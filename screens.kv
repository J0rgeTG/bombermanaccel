#:import widgets widgets

ScreenManager:
    MenuScreen:
        name: "menu"
    GameScreen:
        name: "game"
    GameOverScreen:
        name: "gameover"

<MenuScreen@Screen>:
    FloatLayout:
        canvas.before:
            Color:
                rgb: .1, .1, .2
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "Bomberman"
            font_size: '32sp'
            size_hint: None, None
            pos_hint: {"center_x": 0.5, "center_y": 0.7}

        Button:
            text: "Jugar"
            size_hint: 0.4, 0.15
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            on_release: app.start_game()

<GameScreen@Screen>:
    FloatLayout:
        Level:
            id: level
            size_hint: 1, 0.9
            pos_hint: {'top': 1}

        BoxLayout:
            size_hint: 1, 0.1
            pos_hint: {'x': 0, 'y': 0}
            padding: [20, 5]
            spacing: 20

            Button:
                text: "Bomb"
                font_size: '20sp'
                on_press: level.trigger_bomb(self)

<GameOverScreen@Screen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(60), dp(80)
        spacing: dp(24)
        canvas.before:
            Color:
                rgba: .1, .1, .1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            text: "Â¡Game Over!"
            font_size: '32sp'
            size_hint_y: 0.5
            color: 1, .3, .3, 1
        Button:
            text: "Reintentar"
            size_hint: (1, None)
            height: dp(44)
            font_size: '20sp'
            on_release: app.restart_game()
        Button:
            text: "Salir"
            size_hint: (1, None)
            height: dp(44)
            font_size: '20sp'
            on_release: app.stop()


